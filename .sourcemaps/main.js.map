{"version":3,"sources":["../../src/pages/camera/camera.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/home/home.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../ws (ignored)","../../src/app/services/socket/socket.service.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import {AfterViewInit, Component, OnDestroy, OnInit} from '@angular/core';\n\nimport { NavController, NavParams } from 'ionic-angular';\nimport { CameraPreview, CameraPreviewPictureOptions, CameraPreviewOptions } from '@ionic-native/camera-preview';\nimport { Base64ToGallery } from '@ionic-native/base64-to-gallery';\nimport { SocketService } from \"../../app/services/socket/socket.service\";\n\n@Component({\n  selector: 'app-camera',\n  templateUrl: 'camera.html'\n})\nexport class CameraPage implements OnInit, OnDestroy, AfterViewInit {\n  public cameraImage: string;\n\n  public get cameraPreviewOpts(): CameraPreviewOptions {\n    return {\n      x: 0,\n      y: 0,\n      width: window.screen.width,\n      height: window.screen.height,\n      camera: 'rear',\n      toBack: true,\n      previewDrag: false,\n      tapPhoto: false,\n      alpha: 1\n    };\n  }\n\n  public get pictureOpts(): CameraPreviewPictureOptions {\n      return {\n        quality: 100\n      };\n  }\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private cameraPreview: CameraPreview,\n    private base64ToGallery: Base64ToGallery,\n    private socketService: SocketService,\n  ) {}\n\n  public ngOnInit(): void {\n    this.socketService.subscribeOnShot((timestamp) => {\n      this.getPicture(timestamp);\n    })\n  }\n\n  public ngAfterViewInit(): void {\n    this.startCamera();\n  }\n\n  public ngOnDestroy(): void {\n    this.stopCamera();\n  }\n\n  public emitShot(): void {\n    this.socketService.emitShot();\n  }\n\n  public getPicture(timestamp): any {\n    this.cameraPreview.takePicture(this.pictureOpts).then((imageData) => {\n      this.cameraImage = 'data:image/jpeg;base64,' + imageData;\n      this.picToGallery(imageData);\n      this.socketService.sendShot(this.cameraImage, timestamp);\n    }, (err) => {\n      console.log(err);\n        // this.cameraImage = 'assets/img/test.jpg';\n    });\n  }\n\n  public startCamera(): void {\n    this.cameraPreview.startCamera(this.cameraPreviewOpts).then(\n      (res) => {\n        console.log(res);\n      },\n      (err) => {\n        console.log(err)\n      });\n  }\n\n  public stopCamera(): void {\n    this.cameraPreview.stopCamera();\n  }\n\n  public picToGallery(base64Data) {\n    this.base64ToGallery.base64ToGallery(base64Data, { prefix: '_img' }).then(\n      res => console.log('Saved image to gallery ', res),\n      err => console.log('Error saving image to gallery ', err)\n    );\n  }\n\n  public goToPrevious() {\n    this.navCtrl.pop();\n  }\n\n  public resolveCameraButtonPosition() {\n    if (window.screen.width > window.screen.height) {\n      //horizontal\n      return {\n        position: 'absolute',\n        top: '50%',\n        right: '5vw',\n        transform: 'translate(0, -50%)',\n        width: '15vw',\n        height: '15vw',\n      }\n    } else {\n      //vertical\n      return {\n        position: 'absolute',\n        bottom: '5vw',\n        right: '50%',\n        transform: 'translate(50%, 0)',\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/camera/camera.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 117;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 117\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 158;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 158\n// module chunks = 0","import {Component, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {SocketService} from \"../../app/services/socket/socket.service\";\nimport {NavController} from \"ionic-angular\";\nimport {CameraPage} from \"../camera/camera\";\n\n@Component({\n  selector: 'page-hello-ionic',\n  templateUrl: 'home.html'\n})\nexport class HomePage implements OnInit {\n  public form: FormGroup;\n\n  constructor(private fb: FormBuilder,\n              public navCtrl: NavController,\n              private socketService: SocketService,) {\n  }\n\n  public ngOnInit() {\n    this.form = this.fb.group({\n      contactUrl: ['', Validators.required]\n    })\n  }\n\n  public onSubmit() {\n    this.form.markAsTouched();\n    const url: string = this.form.get('contactUrl').value;\n    this.socketService.connect(url);\n    this.navCtrl.push(CameraPage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule, ErrorHandler } from '@angular/core';\nimport { FormsModule } from \"@angular/forms\";\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\n\nimport { HomePage } from '../pages/home/home';\nimport { CameraPage } from '../pages/camera/camera';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { Camera } from '@ionic-native/camera';\nimport { CameraPreview } from \"@ionic-native/camera-preview\";\nimport { Base64ToGallery } from \"@ionic-native/base64-to-gallery\";\n\nimport { SocketService } from \"./services/socket/socket.service\";\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    CameraPage,\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    FormsModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    CameraPage,\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    Camera,\n    CameraPreview,\n    SocketService,\n    Base64ToGallery,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\n\nimport { Platform, MenuController, Nav } from 'ionic-angular';\n\nimport { HomePage } from '../pages/home/home';\nimport { CameraPage } from '../pages/camera/camera';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport {SocketService} from \"./services/socket/socket.service\";\n\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n  // make HelloIonicPage the root (or first) page\n  rootPage = HomePage;\n  pages: Array<{title: string, component: any}>;\n\n  constructor(\n    public platform: Platform,\n    public menu: MenuController,\n    public statusBar: StatusBar,\n    public splashScreen: SplashScreen,\n    private socketService: SocketService,\n  ) {\n    this.initializeApp();\n\n    // set our app's pages\n    this.pages = [\n      { title: 'Connect', component: HomePage },\n      { title: 'Take shot', component: CameraPage }\n    ];\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n    });\n  }\n\n  openPage(page) {\n    if ((page.component === CameraPage) && !this.socketService.isConnected) {\n      this.menu.close();\n      this.nav.setRoot(HomePage);\n      alert('You should connect first');\n\n      return;\n    }\n    // close the menu when clicking a link from the menu\n    this.menu.close();\n    // navigate to the new page if it is not the current page\n    this.nav.setRoot(page.component);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ws (ignored)\n// module id = 297\n// module chunks = 0","import {Injectable} from \"@angular/core\";\nimport * as io from 'socket.io-client';\nimport Socket = SocketIO.Socket;\n\n@Injectable()\nexport class SocketService {\n  public socket: Socket;\n  public isConnected: boolean = false;\n  public wasDisconnected: boolean = false;\n\n  public connect(connectionUrl: string): void {\n    this.socket = io(connectionUrl);\n\n    this.isConnected = true;\n\n    this.socket.on('connect_error', function(err) {\n      console.log('error');\n\n      this.isConnected = false;\n      this.wasDisconnected = true;\n    });\n  }\n\n  public subscribeOnShot(shotCallBack: Function): void {\n    this.socket.on('shot', (data) => {\n      if (shotCallBack) {\n        shotCallBack(data.timestamp);\n      }\n    });\n  }\n\n  public emitShot(): void {\n    this.socket.emit('shot');\n  }\n\n  public disconnect(): void {\n    console.log('disconnected');\n    this.socket.disconnect();\n\n    this.isConnected = false;\n  }\n\n  public sendShot(msg, timestamp): void {\n    this.socket.emit('loadPic', {imgBase: msg, timestamp: timestamp});\n    console.log('shot sent');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/socket/socket.service.ts"],"sourceRoot":""}